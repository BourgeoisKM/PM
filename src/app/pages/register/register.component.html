<main>
  <div class="container-fluid bg-light d-flex align-items-center justify-content-center" style="min-height: 100vh;">
    
    <section class="register py-4 w-100" style="max-width: 460px;">
      
      <div class="card shadow border-0 rounded-4 p-4 bg-white">
        
        <!-- Logo -->
        <div class="text-center mb-4">
          <img src="assets/img/EI.png" alt="Logo" style="width: 70px;">
        </div>

        <!-- Titre -->
        <div class="text-center mb-3">
          <h4 class="fw-bold text-dark">Créer un compte</h4>
          <p class="text-muted small">Veuillez remplir tous les champs pour ajouter un Utilisateur</p>
        </div>

        <!-- Formulaire -->
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>

  <!-- Nom complet -->
  <div class="mb-3">
    <label class="form-label">Nom complet</label>
    <div class="input-group">
      <span class="input-group-text bg-white"><i class="bi bi-person-fill text-secondary"></i></span>
      <input type="text" class="form-control" formControlName="fullName" placeholder="Ex: John Doe">
    </div>
    <div *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched" class="text-danger small">
      Ce champ est requis.
    </div>
  </div>

  <!-- Email -->
  <div class="mb-3">
    <label class="form-label">Adresse Email</label>
    <div class="input-group">
      <span class="input-group-text bg-white"><i class="bi bi-envelope-fill text-secondary"></i></span>
      <input type="email" class="form-control" formControlName="email" placeholder="exemple@email.com">
    </div>
    <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="text-danger small">
      Email invalide ou requis.
    </div>
  </div>

  <!-- Téléphone -->
  <div class="mb-3">
    <label class="form-label">Téléphone</label>
    <div class="input-group">
      <span class="input-group-text bg-white"><i class="bi bi-telephone-fill text-secondary"></i></span>
      <input type="text" class="form-control" formControlName="phone" placeholder="0812345678">
    </div>
    <div *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched" class="text-danger small">
      Téléphone requis.
    </div>
  </div>

  <!-- Mot de passe -->
  <div class="mb-3">
    <label class="form-label">Mot de passe</label>
    <div class="input-group">
      <span class="input-group-text bg-white"><i class="bi bi-lock-fill text-secondary"></i></span>
      <input type="password" class="form-control" formControlName="password" placeholder="••••••••">
    </div>
    <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-danger small">
      Mot de passe requis (au moins 6 caractères).
    </div>
  </div>

  <!-- Rôle -->
  <div class="mb-3">
    <label class="form-label">Rôle</label>
    <select class="form-select" formControlName="role">
      <option value="">-- Sélectionner un rôle --</option>
       <option value="fme">FME</option>
  <option value="vendor_admin">Vendor Admin</option>
  <option value="pm_analyst">PM Analyst</option>
  <option value="ops_admin">Ops Admin</option>
  <option value="noc_supervisor">NOC Supervisor</option>
    </select>
    <div *ngIf="registerForm.get('role')?.invalid && registerForm.get('role')?.touched" class="text-danger small">
      Rôle requis.
    </div>
  </div>

  <!-- Vendor -->
<div class="mb-4">
  <label class="form-label">Vendor</label>
  <select class="form-select" formControlName="vendorId">
    <option value="">-- Sélectionner un vendor --</option>
    <option *ngFor="let vendor of vendors" [value]="vendor.id">{{ vendor.name }}</option>
  </select>
  <div *ngIf="registerForm.get('vendorId')?.invalid && registerForm.get('vendorId')?.touched" class="text-danger small">
    Veuillez sélectionner un vendor.
  </div>
</div>

  <!-- Bouton -->
  <div class="d-grid">
    <button type="submit" class="btn btn-dark btn-lg rounded-pill shadow-sm">
      <i class="bi bi-person-plus-fill me-2"></i> Ajouter un Utilisateur
    </button>
  </div>

</form>

      </div>
<!-- Bouton retour -->
<div class="d-grid mt-3">
  <a routerLink="/home" class="btn btn-outline-secondary btn-lg rounded-pill shadow-sm">
    <i class="bi bi-arrow-left-circle me-2"></i> Retour au dashboard
  </a>
</div>

    </section>
  </div>
</main>
